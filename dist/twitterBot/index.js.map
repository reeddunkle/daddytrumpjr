{"version":3,"sources":["../../src/twitterBot/index.js"],"names":["run","config","consumer_key","process","env","BOT_CONSUMER_KEY","consumer_secret","BOT_CONSUMER_SECRET","access_token_key","BOT_ACCESS_TOKEN","access_token_secret","BOT_ACCESS_TOKEN_SECRET","users","dtJR","deer","client","path","params","follow","postTweet","status","post","seekApproval","tweet","text","stream","on"],"mappings":";;;;;kBAmCwBA,G;;AAnCxB;;;;AACA;;;;AACA;;;;AACA;;;;AAEA,IAAMC,SAAS;AACbC,gBAAcC,QAAQC,GAAR,CAAYC,gBADb;AAEbC,mBAAiBH,QAAQC,GAAR,CAAYG,mBAFhB;AAGbC,oBAAkBL,QAAQC,GAAR,CAAYK,gBAHjB;AAIbC,uBAAqBP,QAAQC,GAAR,CAAYO;AAJpB,CAAf;;AAOA,IAAMC,QAAQ;AACZC,QAAM,QADM;AAEZC,QAAM;AAFM,CAAd;;AAKA,IAAMC,SAAS,sBAAYd,MAAZ,CAAf;AACA,IAAMe,OAAO,iBAAb;AACA,IAAMC,SAAS;AACbC,UAAQN,MAAME;AADD,CAAf;;AAIA,SAASK,SAAT,CAAmBC,MAAnB,EAA2B;AACzBL,SAAOM,IAAP,CAAY,iBAAZ,EAA+B,EAAED,cAAF,EAA/B;AACD;;AAED,SAASE,YAAT,CAAsBC,KAAtB,EAA6B;AAC3B,SAAO,iEAGLJ,SAHK,EAILI,MAAMC,IAJD,CAAP;AAKD;;AAEc,SAASxB,GAAT,GAAe;AAC5Be,SAAOU,MAAP,CAAcT,IAAd,EAAoBC,MAApB,EAA4B,UAACQ,MAAD,EAAY;AACtCA,WACGC,EADH,CACM,MADN,EACc,UAACH,KAAD,EAAW;AACrB,UAAI,yBAASN,OAAOC,MAAhB,EAAwBK,KAAxB,CAAJ,EAAoCD,aAAaC,KAAb;AACrC,KAHH;AAID,GALD;AAMD","file":"index.js","sourcesContent":["import flow from 'lodash/fp/flow';\nimport noop from 'lodash/noop';\nimport Twitter from 'twitter';\nimport { addApproval, cropText, isAuthor } from '../tweetUtil';\n\nconst config = {\n  consumer_key: process.env.BOT_CONSUMER_KEY,\n  consumer_secret: process.env.BOT_CONSUMER_SECRET,\n  access_token_key: process.env.BOT_ACCESS_TOKEN,\n  access_token_secret: process.env.BOT_ACCESS_TOKEN_SECRET,\n};\n\nconst users = {\n  dtJR: 39344374,\n  deer: 62298196,\n};\n\nconst client = new Twitter(config);\nconst path = 'statuses/filter';\nconst params = {\n  follow: users.deer,\n};\n\nfunction postTweet(status) {\n  client.post('statuses/update', { status }, noop);\n}\n\nfunction seekApproval(tweet) {\n  return flow(\n    cropText,\n    addApproval,\n    postTweet,\n  )(tweet.text);\n}\n\nexport default function run() {\n  client.stream(path, params, (stream) => {\n    stream\n      .on('data', (tweet) => {\n        if (isAuthor(params.follow, tweet)) seekApproval(tweet);\n      });\n  });\n}\n"]}